/* =====================
   Massimiliano Figini – Main stylesheet (consolidated)
   ===================== */

/* -------------------------------------------
   Imports
------------------------------------------- */
@import url("https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,900");
/* Optional local fallback if present */
@import url("font-awesome.min.css");

/* -------------------------------------------
   Reset + Box model
------------------------------------------- */
* {
  margin: 0;
  padding: 0;
  border: 0;
  font: inherit;
  vertical-align: baseline;
  box-sizing: border-box;
}
article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section { display: block; }
html, body { height: 100%; -webkit-text-size-adjust: none; }
ol, ul { list-style: none; }
table { border-collapse: collapse; border-spacing: 0; }

/* -------------------------------------------
   Base typography & colors
------------------------------------------- */
body, input, select, textarea {
  color: #fff;
  font-family: 'Source Sans Pro', sans-serif;
  font-size: 15pt;
  font-weight: 300;
  letter-spacing: -0.025em;
  line-height: 1.75em;
}

/* -------------------------------------------
   Background: keep solid black (splash shows GIF)
------------------------------------------- */
body {
  background: #000;
  overflow: hidden;
}

/* During loading, pause animations EXCEPT splash (so it can fade out) */
body.loading *:not(#splash) { animation: none !important; }

/* -------------------------------------------
   Links
------------------------------------------- */
a {
  color: inherit;
  text-decoration: none;
  border-bottom: 1px dotted;
  transition: border-color .2s ease-in-out;
}
a:hover { border-color: transparent; }

/* -------------------------------------------
   Font Awesome helper
------------------------------------------- */
.icon { position: relative; text-decoration: none; }
.icon:before {
  font-family: 'FontAwesome';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* -------------------------------------------
   SPLASH (Matrix GIF) – top-left ~3s then smooth fade
   NOTE: image path is relative to this CSS file
------------------------------------------- */
#splash {
  position: fixed;
  inset: 0;
  z-index: 9999;
  background: #000 url("images/BackgroundNeo.gif") top left / cover no-repeat;
  pointer-events: none;
  opacity: 1;
  will-change: opacity, visibility;
  animation: splash-out 1.2s ease-in-out 3s forwards; /* fade after 3s */
}
@keyframes splash-out {
  from { opacity: 1; }
  to   { opacity: 0; visibility: hidden; }
}

/* -------------------------------------------
   Wrapper fade-in
------------------------------------------- */
#wrapper {
  position: fixed;
  inset: 0;
  width: 100%;
  height: 100%;
  opacity: 0;
  animation: wrapper 3s forwards;  /* sync with splash timing */
}
@keyframes wrapper { 0% { opacity: 0; } 100% { opacity: 1; } }

/* If the old theme had a moving #bg, disable it to avoid interference */
#bg { display: none; }

/* -------------------------------------------
   Main layout (centered content)
------------------------------------------- */
#main {
  position: fixed;
  inset: 0;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  text-align: center;
}

/* -------------------------------------------
   Header + headings
------------------------------------------- */
#header { width: 90%; max-width: 900px; }
#header h1 {
  font-size: 4.35em;
  font-weight: 900;
  letter-spacing: -0.05em;
}
#header p {
  font-size: 2.25em;
  margin: 0.75em 0 0.25em;
  line-height: 1.4;
}

/* -------------------------------------------
   Nav icons: original circle size + labels on hover (below)
------------------------------------------- */
#header nav { margin: 1.5em 0 0; }

#header nav ul {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 20px;
  margin: 1.5em 0 0;
  padding: 0;
}

#header nav li {
  list-style: none;
  width: 5.35em;          /* original container size */
  height: 5.35em;
  line-height: 5.885em;   /* original vertical rhythm */
  position: relative;
}

#header nav a {
  display: inline-block;
  width: 100%;
  height: 100%;
  border: 0;
  position: relative;
  text-decoration: none;
}

/* IMPORTANT:
   Do NOT set content here; Font Awesome sets it via .fa-XYZ:before.
   Here we only style the pseudo-element so it becomes a circle frame
   with the FA glyph centered inside. */
#header nav a:before {
  /* no content here! */
  display: block;
  width: 2.5em;
  height: 2.5em;
  line-height: 2.5em;
  font-size: 1.75em;        /* FA glyph size */
  margin: 0 auto;
  text-align: center;
  border: 1px solid #fff;   /* circle */
  border-radius: 50%;
  transition: background .2s ease;
  position: relative;
  top: 0;
}

#header nav a:hover:before { background: rgba(255, 255, 255, 0.175); }
#header nav a:active:before { background: rgba(255, 255, 255, 0.35); }

/* Labels: hidden by default, appear BELOW the circle on hover (desktop) */
#header nav a .label {
  display: block;              /* exists in DOM */
  position: absolute;
  left: 0; right: 0;
  bottom: -1.8em;              /* place below circle */
  font-size: 0.95rem;          /* slightly bigger */
  line-height: 1.2;
  opacity: 0;
  visibility: hidden;
  transform: translateY(4px);
  transition: opacity .25s ease, transform .25s ease, visibility 0s linear .25s;
}

@media (hover:hover) {
  #header nav a:hover .label {
    opacity: 1;
    visibility: visible;
    transform: translateY(0);
    transition: opacity .25s ease, transform .25s ease, visibility 0s;
  }
}

/* On touch devices (no hover), keep labels hidden */
@media (hover:none) {
  #header nav a .label { display: none !important; }
}

/* -------------------------------------------
   Footer
------------------------------------------- */
#footer {
  position: absolute;
  bottom: 0;
  width: 100%;
  text-align: center;
  line-height: 6em;
}
#footer h5 { font-size: .7em; opacity: .4; margin: 0; }

/* -------------------------------------------
   Responsive
------------------------------------------- */
@media (max-width: 1680px) {
  body, input, select, textarea { font-size: 13pt; }
}
@media (max-width: 1280px) {
  body, input, select, textarea { font-size: 12pt; }
}
@media (max-width: 736px) {
  body, input, select, textarea { font-size: 11pt; }
  #header h1 { font-size: 2.5em; }
  #header p { font-size: 1em; }
  /* slightly smaller FA glyph inside circle */
  #header nav a:before {
    font-size: 1.5em;
    width: 2.5em;
    height: 2.5em;
    line-height: 2.5em;
  }
}
@media (max-width: 480px) {
  #footer { display: none; }
}
